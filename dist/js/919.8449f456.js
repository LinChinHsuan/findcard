"use strict";(self["webpackChunkfindcard"]=self["webpackChunkfindcard"]||[]).push([[919],{5776:function(t,e,s){s.r(e),s.d(e,{default:function(){return st}});var i=s(3396),a=s(7139),o=s(9242);const r={class:"bg-light pt-5"},c={class:"container pt-4"},l={class:"d-none d-lg-block","aria-label":"breadcrumb"},n={class:"breadcrumb"},d={class:"breadcrumb-item"},u=(0,i.Uk)("首頁"),p={class:"breadcrumb-item"},g=(0,i.Uk)("產品列表"),h={class:"breadcrumb-item active","aria-current":"page"},v={class:"row"},m={class:"col-lg-5 col-xl-6 position-relative"},f={key:0,class:"d-flex justify-content-center align-items-center h-100"},b=(0,i._)("div",{class:"spinner-border text-primary",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),w=[b],y={key:1},_=["src","alt"],x={key:1,ref:"carousel",id:"carouselIndicators",class:"carousel slide","data-bs-ride":"carousel"},k={class:"carousel-indicators"},F=(0,i._)("button",{type:"button","data-bs-target":"#carouselIndicators","data-bs-slide-to":"0",class:"active"},null,-1),q=["data-bs-slide-to"],S={class:"carousel-inner"},I={class:"carousel-item active"},B=["src","alt"],D=["src","alt"],C=(0,i.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselIndicators" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselIndicators" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),M={class:"col-lg-7 col-xl-6"},U={class:"d-flex flex-column justify-content-center h-100 px-lg-5"},$={class:"fs-1 fw-bold mt-5 mt-lg-0 mb-3"},j=(0,i._)("p",{class:"fs-5 fw-bold mb-2 pt-4 border-top"},"產品介紹",-1),L={class:"lh-lg mb-5 text-description"},W={class:"mb-4"},z={class:"fs-3 fw-bold text-end mb-0"},A={key:0,class:"fs-5 text-decoration-line-through text-muted"},E={class:"d-flex mt-5"},J={class:"d-flex align-items-center w-50 me-3"},P={class:"flex-grow-1 text-center"},Y={key:0,class:"spinner-border text-white spinner-border-sm",role:"status"},Z=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),K=[Z],N=(0,i.Uk)(" 加入購物車 ");function O(t,e,s,b,Z,O){const V=(0,i.up)("router-link"),R=(0,i.up)("SectionOnSale"),X=(0,i.up)("SectionBanner"),G=(0,i.up)("Footer");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",r,[(0,i._)("div",c,[(0,i._)("nav",l,[(0,i._)("ol",n,[(0,i._)("li",d,[(0,i.Wm)(V,{to:"/"},{default:(0,i.w5)((()=>[u])),_:1})]),(0,i._)("li",p,[(0,i.Wm)(V,{to:"/products"},{default:(0,i.w5)((()=>[g])),_:1})]),(0,i._)("li",h,(0,a.zw)(Z.product.title),1)])]),(0,i._)("div",v,[(0,i._)("div",m,[Z.product.imageUrl?((0,i.wg)(),(0,i.iD)("div",y,[Z.product.imagesUrl?((0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("div",k,[F,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Z.product.imagesUrl.length,(t=>((0,i.wg)(),(0,i.iD)("button",{type:"button","data-bs-target":"#carouselIndicators","data-bs-slide-to":t,key:t},null,8,q)))),128))]),(0,i._)("div",S,[(0,i._)("div",I,[(0,i._)("img",{src:Z.product.imageUrl,class:"productImage d-block w-100",alt:Z.product.title},null,8,B)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Z.product.imagesUrl,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"carousel-item",key:t},[(0,i._)("img",{src:t,class:"productImage d-block w-100",alt:Z.product.title},null,8,D)])))),128))]),C],512)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:Z.product.imageUrl,alt:Z.product.title,class:"productImage w-100"},null,8,_)),(0,i._)("span",{class:(0,a.C_)(["cursorPointer material-icons position-absolute rounded-circle fs-4 p-2",{favorite:O.isFavorite(Z.product.id)}]),onClick:e[0]||(e[0]=(0,o.iM)((t=>O.toggleFavorite(Z.product)),["stop"]))},"favorite",2)])):((0,i.wg)(),(0,i.iD)("div",f,w))]),(0,i._)("div",M,[(0,i._)("div",U,[(0,i._)("h1",$,(0,a.zw)(Z.product.title),1),j,(0,i._)("p",L,(0,a.zw)(Z.product.description),1),(0,i._)("p",W,(0,a.zw)(Z.product.content),1),(0,i._)("p",z,[(0,i.Uk)("NT $"+(0,a.zw)(Z.product.price)+" / 副 ",1),Z.product.price!==Z.product.origin_price?((0,i.wg)(),(0,i.iD)("span",A," $"+(0,a.zw)(Z.product.origin_price),1)):(0,i.kq)("",!0)]),(0,i._)("div",E,[(0,i._)("div",J,[(0,i._)("span",{class:"material-icons text-primary p-2 qtyCounter",onClick:e[1]||(e[1]=t=>O.qtyAdjust(-1))},"remove"),(0,i._)("span",P,(0,a.zw)(Z.qty),1),(0,i._)("span",{class:"material-icons text-primary p-2 qtyCounter",onClick:e[2]||(e[2]=t=>O.qtyAdjust(1))},"add")]),(0,i._)("button",{class:"btn btn-primary fw-bold text-white w-50",type:"button",onClick:e[3]||(e[3]=t=>O.addCart(Z.product.id))},[Z.isLoading?((0,i.wg)(),(0,i.iD)("div",Y,K)):(0,i.kq)("",!0),N])])])])]),(0,i.Wm)(R)])]),(0,i.Wm)(X,{info:Z.SectionCouponBanner},null,8,["info"]),(0,i.Wm)(G)],64)}var V=s(8557),R=s(1957),X=s.n(R),G=s(2902),H=s(8890),Q=s(8770),T={data(){return{carousel:{},product:{},favorite:[],favoriteIds:[],qty:1,isLoading:!1,SectionCouponBanner:{bgImg:"url(https://storage.googleapis.com/vue-course-api.appspot.com/vuefindcard/1650444886897.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=AKertjf%2FwFKlifZWfQaubvQuXyW6h0WPSlanbt0WKYDgAEN%2Bemhi8JNkt0k3s3rhVYn29eVKkMfUYWGSZBb%2FLFjSJ8Y4sU3vMJxtfRcP5nHsBp%2FRhxrPsus4Ivx0t9YMQuLSmpwzteuwAMJGpsqDUBXVP9jEcCnEV%2FXibgxOAJxRgK9xYwOcMPujFscM8VLBeSq%2Fxl3vl5eUqZVMER7x577FJzmEMMe%2Bq%2FNMqJgnEEkDRDwkuAL%2B7JIFMmVG%2Bu%2Bsipo6U1X%2F6iBon5trL8HgjcF8MhFMkh%2Bj5rlcBK7SVns76nC8XfbQ6Apu%2FGlM9gSyXuFqgLok%2BqWdRiqf7RW9BA%3D%3D)",title:"周年慶優惠券",titleEn:"Coupon",text:"尚未領取周年慶優惠大獎嗎？快來翻出你的專屬優惠券",btnText:"手刀領取",btnPath:"/coupon"}}},components:{SectionOnSale:G.Z,SectionBanner:H.Z,Footer:Q.Z},watch:{$route(){this.getProduct()}},methods:{getProduct(){const t=this.$route.params.id,e=`https://vue3-course-api.hexschool.io/api/vuefindcard/product/${t}`;this.$http.get(e).then((t=>{t.data.success&&(this.product=t.data.product)}))},getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[],this.favoriteIds=[],this.favorite.forEach((t=>{this.favoriteIds.push(t.id)}))},isFavorite(t){return this.favoriteIds.some((function(e){return e===t}))},toggleFavorite(t){const e=t.id,s=this.favorite.some((t=>t.id===e));if(s){const s=this.favorite.find((t=>t.id===e));this.favorite.splice(this.favorite.indexOf(s),1),localStorage.setItem("favorite",JSON.stringify(this.favorite)),this.$swal({title:`取消關注 ${t.title}`,width:"24rem"})}else this.favorite.push(t),localStorage.setItem("favorite",JSON.stringify(this.favorite)),this.$swal({title:`已將 ${t.title} 加入我的最愛`,width:"28rem"});this.getFavorite(),V.Z.emit("update-favorite")},qtyAdjust(t){1===t?this.qty+=1:1===this.qty?this.qty=1:this.qty-=1},addCart(t){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/vuefindcard/cart";this.$http.post(e,{data:{product_id:t,qty:this.qty}}).then((()=>{V.Z.emit("update-cart"),this.$swal("商品已加入購物車"),this.isLoading=!1}))}},created(){this.getProduct(),this.getFavorite()},mounted(){this.carousel=new(X())(this.$refs.carousel)}},tt=s(89);const et=(0,tt.Z)(T,[["render",O]]);var st=et}}]);
//# sourceMappingURL=919.8449f456.js.map