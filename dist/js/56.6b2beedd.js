"use strict";(self["webpackChunkfindcard"]=self["webpackChunkfindcard"]||[]).push([[56],{6556:function(t,e,s){s.r(e),s.d(e,{default:function(){return rt}});var i=s(3396),a=s(7139),r=s(9242);const o={key:0,class:"bg-light d-flex justify-content-center align-items-center vh-100"},c=(0,i._)("div",{class:"spinner-border text-primary",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),l=[c],n={class:"bg-light pt-5"},d={class:"container pt-4"},u={class:"d-none d-lg-block","aria-label":"breadcrumb"},p={class:"breadcrumb"},g={class:"breadcrumb-item"},h=(0,i.Uk)("首頁"),v={class:"breadcrumb-item"},m=(0,i.Uk)("產品列表"),f={class:"breadcrumb-item active","aria-current":"page"},b={class:"row"},w={class:"col-lg-5 col-xl-6 position-relative"},y={key:0,class:"d-flex justify-content-center align-items-center h-100"},_=(0,i._)("div",{class:"spinner-border text-primary",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),x=[_],k={key:1},F=["src","alt"],q={key:1,ref:"carousel",id:"carouselIndicators",class:"carousel slide","data-bs-ride":"carousel"},S={class:"carousel-indicators"},C=(0,i._)("button",{type:"button","data-bs-target":"#carouselIndicators","data-bs-slide-to":"0",class:"active"},null,-1),I=["data-bs-slide-to"],B={class:"carousel-inner"},D={class:"carousel-item active"},L=["src","alt"],M=["src","alt"],U=(0,i.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselIndicators" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselIndicators" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),j={class:"col-lg-7 col-xl-6"},$={class:"d-flex flex-column justify-content-center h-100 px-lg-5"},W={class:"fs-1 fw-bold mt-5 mt-lg-0 mb-3"},z=(0,i._)("p",{class:"fs-5 fw-bold mb-2 pt-4 border-top"},"產品介紹",-1),A={class:"lh-lg mb-5 text-description"},E={class:"mb-4"},J={class:"fs-3 fw-bold text-end mb-0"},P={key:0,class:"fs-5 text-decoration-line-through text-muted"},Y={class:"d-flex mt-5"},Z={class:"d-flex align-items-center w-50 me-3"},K={class:"flex-grow-1 text-center"},N={key:0,class:"spinner-border text-white spinner-border-sm",role:"status"},O=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),V=[O],R=(0,i.Uk)(" 加入購物車 ");function X(t,e,s,c,_,O){const X=(0,i.up)("router-link"),G=(0,i.up)("SectionOnSale"),H=(0,i.up)("SectionBanner"),Q=(0,i.up)("Footer");return(0,i.wg)(),(0,i.iD)(i.HY,null,[_.isLoading?((0,i.wg)(),(0,i.iD)("div",o,l)):(0,i.kq)("",!0),(0,i._)("div",n,[(0,i._)("div",d,[(0,i._)("nav",u,[(0,i._)("ol",p,[(0,i._)("li",g,[(0,i.Wm)(X,{to:"/"},{default:(0,i.w5)((()=>[h])),_:1})]),(0,i._)("li",v,[(0,i.Wm)(X,{to:"/products"},{default:(0,i.w5)((()=>[m])),_:1})]),(0,i._)("li",f,(0,a.zw)(_.product.title),1)])]),(0,i._)("div",b,[(0,i._)("div",w,[_.product.imageUrl?((0,i.wg)(),(0,i.iD)("div",k,[_.product.imagesUrl?((0,i.wg)(),(0,i.iD)("div",q,[(0,i._)("div",S,[C,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.product.imagesUrl.length,(t=>((0,i.wg)(),(0,i.iD)("button",{type:"button","data-bs-target":"#carouselIndicators","data-bs-slide-to":t,key:t},null,8,I)))),128))]),(0,i._)("div",B,[(0,i._)("div",D,[(0,i._)("img",{src:_.product.imageUrl,class:"productImage d-block w-100",alt:_.product.title},null,8,L)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.product.imagesUrl,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"carousel-item",key:t},[(0,i._)("img",{src:t,class:"productImage d-block w-100",alt:_.product.title},null,8,M)])))),128))]),U],512)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:_.product.imageUrl,alt:_.product.title,class:"productImage w-100"},null,8,F)),(0,i._)("span",{class:(0,a.C_)(["cursorPointer material-icons position-absolute rounded-circle fs-4 p-2",{favorite:O.isFavorite(_.product.id)}]),onClick:e[0]||(e[0]=(0,r.iM)((t=>O.toggleFavorite(_.product)),["stop"]))},"favorite",2)])):((0,i.wg)(),(0,i.iD)("div",y,x))]),(0,i._)("div",j,[(0,i._)("div",$,[(0,i._)("h1",W,(0,a.zw)(_.product.title),1),z,(0,i._)("p",A,(0,a.zw)(_.product.description),1),(0,i._)("p",E,(0,a.zw)(_.product.content),1),(0,i._)("p",J,[(0,i.Uk)("NT $"+(0,a.zw)(_.product.price)+" / 副 ",1),_.product.price!==_.product.origin_price?((0,i.wg)(),(0,i.iD)("span",P," $"+(0,a.zw)(_.product.origin_price),1)):(0,i.kq)("",!0)]),(0,i._)("div",Y,[(0,i._)("div",Z,[(0,i._)("span",{class:"material-icons text-primary p-2 qtyCounter",onClick:e[1]||(e[1]=t=>O.qtyAdjust(-1))},"remove"),(0,i._)("span",K,(0,a.zw)(_.qty),1),(0,i._)("span",{class:"material-icons text-primary p-2 qtyCounter",onClick:e[2]||(e[2]=t=>O.qtyAdjust(1))},"add")]),(0,i._)("button",{class:"btn btn-primary fw-bold text-white w-50",type:"button",onClick:e[3]||(e[3]=t=>O.addCart(_.product.id))},[_.addCartLoading?((0,i.wg)(),(0,i.iD)("div",N,V)):(0,i.kq)("",!0),R])])])])]),(0,i.Wm)(G)])]),(0,i.Wm)(H,{info:_.SectionCouponBanner},null,8,["info"]),(0,i.Wm)(Q)],64)}var G=s(8557),H=s(1957),Q=s.n(H),T=s(2902),tt=s(8890),et=s(8770),st={data(){return{carousel:{},product:{},favorite:[],favoriteIds:[],qty:1,isLoading:!1,addCartLoading:!1,SectionCouponBanner:{bgImg:"url(https://storage.googleapis.com/vue-course-api.appspot.com/vuefindcard/1650444886897.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=AKertjf%2FwFKlifZWfQaubvQuXyW6h0WPSlanbt0WKYDgAEN%2Bemhi8JNkt0k3s3rhVYn29eVKkMfUYWGSZBb%2FLFjSJ8Y4sU3vMJxtfRcP5nHsBp%2FRhxrPsus4Ivx0t9YMQuLSmpwzteuwAMJGpsqDUBXVP9jEcCnEV%2FXibgxOAJxRgK9xYwOcMPujFscM8VLBeSq%2Fxl3vl5eUqZVMER7x577FJzmEMMe%2Bq%2FNMqJgnEEkDRDwkuAL%2B7JIFMmVG%2Bu%2Bsipo6U1X%2F6iBon5trL8HgjcF8MhFMkh%2Bj5rlcBK7SVns76nC8XfbQ6Apu%2FGlM9gSyXuFqgLok%2BqWdRiqf7RW9BA%3D%3D)",title:"周年慶優惠券",titleEn:"Coupon",text:"尚未領取周年慶優惠大獎嗎？快來翻出你的專屬優惠券",btnText:"手刀領取",btnPath:"/coupon"}}},components:{SectionOnSale:T.Z,SectionBanner:tt.Z,Footer:et.Z},watch:{$route(){this.getProduct()}},methods:{getProduct(){this.isLoading=!0;const t=this.$route.params.id,e=`https://vue3-course-api.hexschool.io/api/vuefindcard/product/${t}`;this.$http.get(e).then((t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[],this.favoriteIds=[],this.favorite.forEach((t=>{this.favoriteIds.push(t.id)}))},isFavorite(t){return this.favoriteIds.some((function(e){return e===t}))},toggleFavorite(t){const e=t.id,s=this.favorite.some((t=>t.id===e));if(s){const s=this.favorite.find((t=>t.id===e));this.favorite.splice(this.favorite.indexOf(s),1),localStorage.setItem("favorite",JSON.stringify(this.favorite)),this.$swal({title:`取消關注 ${t.title}`,width:"24rem"})}else this.favorite.push(t),localStorage.setItem("favorite",JSON.stringify(this.favorite)),this.$swal({title:`已將 ${t.title} 加入我的最愛`,width:"28rem"});this.getFavorite(),G.Z.emit("update-favorite")},qtyAdjust(t){1===t?this.qty+=1:1===this.qty?this.qty=1:this.qty-=1},addCart(t){this.addCartLoading=!0;const e="https://vue3-course-api.hexschool.io/api/vuefindcard/cart";this.$http.post(e,{data:{product_id:t,qty:this.qty}}).then((()=>{G.Z.emit("update-cart"),this.$swal("商品已加入購物車"),this.addCartLoading=!1}))}},created(){this.getProduct(),this.getFavorite()},mounted(){this.carousel=new(Q())(this.$refs.carousel)}},it=s(89);const at=(0,it.Z)(st,[["render",X]]);var rt=at}}]);
//# sourceMappingURL=56.6b2beedd.js.map