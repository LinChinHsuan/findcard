"use strict";(self["webpackChunkfindcard"]=self["webpackChunkfindcard"]||[]).push([[622],{958:function(t,e,i){i.d(e,{Z:function(){return u}});var s=i(3396);const o={class:"bg-primary text-center text-white py-3"},a=(0,s._)("p",{class:"mb-0"},"Copyright © 2022 ChinHsuan Lin",-1),r=(0,s._)("p",{class:"mb-0"},"個人練習作品，非商業用途，素材來源：unsplash、pexels",-1),n=[a,r];function c(t,e){return(0,s.wg)(),(0,s.iD)("footer",o,n)}var l=i(89);const d={},p=(0,l.Z)(d,[["render",c]]);var u=p},7034:function(t,e,i){i.d(e,{Z:function(){return m}});var s=i(3396),o=i(7139);const a={class:"bg-dark bg-opacity-75 h-100"},r={class:"d-flex justify-content-center pt-5 mb-4"},n={class:"pb-2 me-2 fs-1 text-white fw-bolder"},c={class:"fs-3 text-primary align-self-end"},l={class:"text-white text-center px-3 fs-5"},d={class:"d-flex"};function p(t,e,i,p,u,f){const g=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",{style:(0,o.j5)({"background-image":i.info.bgImg}),class:(0,o.C_)(["bg-img",{"bg-attachment":i.info.attachment}])},[(0,s._)("div",a,[(0,s._)("h3",r,[(0,s._)("span",n,(0,o.zw)(i.info.title),1),(0,s._)("span",c,"/ "+(0,o.zw)(i.info.titleEn),1)]),(0,s._)("p",l,(0,o.zw)(i.info.text),1),(0,s._)("div",d,[(0,s.Wm)(g,{to:i.info.btnPath,type:"button",class:"btn btn-outline-light btn-lg border-2 text-white fw-bold px-4 mt-3 mx-auto"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(i.info.btnText),1)])),_:1},8,["to"])])])],6)}var u={props:["info"]},f=i(89);const g=(0,f.Z)(u,[["render",p],["__scopeId","data-v-6b1872cb"]]);var m=g},2622:function(t,e,i){i.r(e),i.d(e,{default:function(){return Q}});var s=i(3396),o=i(7139),a=i(9242);const r=t=>((0,s.dD)("data-v-78fae21e"),t=t(),(0,s.Cn)(),t),n={key:0,class:"bg-light d-flex justify-content-center align-items-center vh-100"},c=r((()=>(0,s._)("div",{class:"spinner-border text-primary",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1))),l=[c],d=(0,s.uE)('<div class="container-fliud productBanner" data-v-78fae21e><div class="bg-dark bg-opacity-50 w-100 h-100 d-flex align-items-center" data-v-78fae21e><h1 class="w-100 d-flex align-items-center justify-content-center mb-0 mt-5" data-v-78fae21e><span class="pb-2 me-2 fs-1 fw-bolder text-white" data-v-78fae21e>所有商品</span><span class="fs-3 text-primary align-self-end" data-v-78fae21e>/ All Product</span></h1></div></div>',1),p={class:"container-fluid bg-light py-4 py-xl-5"},u={class:"container"},f={class:"list-group list-group-flush flex-row justify-content-center flex-wrap flex-md-nowrap fs-5 mb-3 mb-xl-4"},g=(0,s.Uk)(" 所有商品"),m={class:"fw-normal d-none d-md-inline"},h=(0,s.Uk)(" 活動促銷"),v=r((()=>(0,s._)("sup",{class:"fw-normal d-none d-md-inline"},"4",-1))),b=[h,v],w=(0,s.Uk)(" 紀念牌"),x=r((()=>(0,s._)("sup",{class:"fw-normal d-none d-md-inline"},"5",-1))),y=[w,x],_=(0,s.Uk)(" 經典單車牌"),k=r((()=>(0,s._)("sup",{class:"fw-normal d-none d-md-inline"},"3",-1))),C=[_,k],F=(0,s.Uk)(" 其他"),S=r((()=>(0,s._)("sup",{class:"fw-normal d-none d-md-inline"},"4",-1))),B=[F,S],I={class:"row mb-3"},M={class:"col-xl-10 mx-auto"},D={class:"row"},P=["onClick"],U={class:"overflow-hidden position-relative"},L=["src"],$=["onClick"],j={class:"d-flex flex-column text-center pt-4 px-4 fw-bold"},q={class:"fs-5 mb-1"},z={class:"fs-5"},E={key:0,class:"text-muted text-decoration-line-through fs-6 ms-1"},Z={class:"p-4"},J=["onClick"],W={key:0,class:"spinner-border text-white spinner-border-sm",role:"status"},A=r((()=>(0,s._)("span",{class:"visually-hidden"},"Loading...",-1))),V=[A],Y=(0,s.Uk)(" 加到購物車 ");function K(t,e,i,r,c,h){const v=(0,s.up)("SectionBanner"),w=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[c.isLoading?((0,s.wg)(),(0,s.iD)("div",n,l)):(0,s.kq)("",!0),d,(0,s._)("div",p,[(0,s._)("div",u,[(0,s._)("div",f,[(0,s._)("button",{type:"button",class:(0,o.C_)(["list-group-item list-group-item-action border-0 p-sm-3 px-md-4 py-3 fs-5 fw-bold text-center",{active:"all"===c.category}]),onClick:e[0]||(e[0]=t=>c.category="all")},[g,(0,s._)("sup",m,(0,o.zw)(c.products.length),1)],2),(0,s._)("button",{type:"button",class:(0,o.C_)(["list-group-item list-group-item-action border-0 p-sm-3 px-md-4 py-3 fs-5 fw-bold text-center",{active:"onSale"===c.category}]),onClick:e[1]||(e[1]=t=>c.category="onSale")},b,2),(0,s._)("button",{type:"button",class:(0,o.C_)(["list-group-item list-group-item-action border-0 p-sm-3 px-md-4 py-3 fs-5 fw-bold text-center",{active:"memorial"===c.category}]),onClick:e[2]||(e[2]=t=>c.category="memorial")},y,2),(0,s._)("button",{type:"button",class:(0,o.C_)(["list-group-item list-group-item-action border-0 p-sm-3 px-md-4 py-3 fs-5 fw-bold text-center",{active:"bicycle"===c.category}]),onClick:e[3]||(e[3]=t=>c.category="bicycle")},C,2),(0,s._)("button",{type:"button",class:(0,o.C_)(["d-none d-md-block list-group-item list-group-item-action border-0 p-sm-3 px-md-4 py-3 fs-5 fw-bold text-center",{active:"other"===c.category}]),onClick:e[4]||(e[4]=t=>c.category="other")},B,2)]),(0,s._)("div",I,[(0,s._)("div",M,[(0,s._)("div",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.filterProducts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-md-6 col-lg-4 mb-3",key:e.id},[(0,s._)("div",{class:"bg-white border cursorPointer",onClick:t=>h.viewProduct(e.id)},[(0,s._)("div",U,[(0,s._)("img",{class:"img-fit",src:e.imageUrl},null,8,L),(0,s._)("span",{class:(0,o.C_)(["material-icons position-absolute rounded-circle fs-4 p-2",{favorite:h.isFavorite(e.id)}]),onClick:(0,a.iM)((t=>h.toggleFavorite(e)),["stop"])},"favorite",10,$)]),(0,s._)("div",j,[(0,s._)("span",q,(0,o.zw)(e.title),1),(0,s._)("span",z,[(0,s.Uk)("NT $"+(0,o.zw)(t.$filters.currency(e.price))+" ",1),e.price!==e.origin_price?((0,s.wg)(),(0,s.iD)("span",E,"$"+(0,o.zw)(t.$filters.currency(e.origin_price)),1)):(0,s.kq)("",!0)])]),(0,s._)("div",Z,[(0,s._)("button",{type:"button",class:"btn btn-primary fw-bold text-white w-100",onClick:(0,a.iM)((t=>h.addCart(e.id)),["stop"])},[c.status.loadingItem===e.id?((0,s.wg)(),(0,s.iD)("div",W,V)):(0,s.kq)("",!0),Y],8,J)])],8,P)])))),128))])])])])]),(0,s.Wm)(v,{info:c.SectionCouponBanner},null,8,["info"]),(0,s.Wm)(w)],64)}var N=i(8557),R=i(7034),O=i(958),X={data(){return{products:[],favorite:[],favoriteIds:[],category:"all",isLoading:!1,status:{loadingItem:""},SectionCouponBanner:{bgImg:"url(https://storage.googleapis.com/vue-course-api.appspot.com/vuefindcard/1650444886897.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=AKertjf%2FwFKlifZWfQaubvQuXyW6h0WPSlanbt0WKYDgAEN%2Bemhi8JNkt0k3s3rhVYn29eVKkMfUYWGSZBb%2FLFjSJ8Y4sU3vMJxtfRcP5nHsBp%2FRhxrPsus4Ivx0t9YMQuLSmpwzteuwAMJGpsqDUBXVP9jEcCnEV%2FXibgxOAJxRgK9xYwOcMPujFscM8VLBeSq%2Fxl3vl5eUqZVMER7x577FJzmEMMe%2Bq%2FNMqJgnEEkDRDwkuAL%2B7JIFMmVG%2Bu%2Bsipo6U1X%2F6iBon5trL8HgjcF8MhFMkh%2Bj5rlcBK7SVns76nC8XfbQ6Apu%2FGlM9gSyXuFqgLok%2BqWdRiqf7RW9BA%3D%3D)",title:"周年慶優惠券",titleEn:"Coupon",text:"尚未領取周年慶優惠大獎嗎？快來翻出你的專屬優惠券",btnText:"手刀領取",btnPath:"coupon"}}},components:{SectionBanner:R.Z,Footer:O.Z},methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/vuefindcard/products/all";this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products.reverse())}))},getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[],this.favoriteIds=[],this.favorite.forEach((t=>{this.favoriteIds.push(t.id)}))},viewProduct(t){this.$router.push(`/product/${t}`)},isFavorite(t){return this.favoriteIds.some((function(e){return e===t}))},toggleFavorite(t){const e=t.id;let i=this.favorite.some((t=>t.id===e));if(i){let i=this.favorite.find((t=>t.id===e));this.favorite.splice(this.favorite.indexOf(i),1),localStorage.setItem("favorite",JSON.stringify(this.favorite)),this.$swal({title:`取消關注 ${t.title}`,width:"24rem"})}else this.favorite.push(t),localStorage.setItem("favorite",JSON.stringify(this.favorite)),this.$swal({title:`已將 ${t.title} 加入我的最愛`,width:"28rem"});this.getFavorite(),N.Z.emit("update-favorite")},addCart(t){this.status.loadingItem=t;const e="https://vue3-course-api.hexschool.io/api/vuefindcard/cart";this.$http.post(e,{data:{product_id:t,qty:1}}).then((()=>{this.$swal("商品已加入購物車"),N.Z.emit("update-cart"),this.status.loadingItem=""}))}},computed:{filterProducts(){let t;switch(this.category){case"all":t=this.products.filter((t=>t));break;case"onSale":t=this.products.filter((t=>t.price!==t.origin_price));break;case"memorial":t=this.products.filter((t=>"紀念牌"===t.category));break;case"bicycle":t=this.products.filter((t=>"經典單車牌"===t.category));break;case"other":t=this.products.filter((t=>"其他"===t.category));break}return t}},created(){this.getProducts(),this.getFavorite()}},G=i(89);const H=(0,G.Z)(X,[["render",K],["__scopeId","data-v-78fae21e"]]);var Q=H}}]);
//# sourceMappingURL=622.61cbcbd4.js.map